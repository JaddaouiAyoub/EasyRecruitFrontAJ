<app-sidebar class="fixed-sidebar"></app-sidebar>
<section class="ptb80" id="post-job">
  <div class="container">
    <h3 class="uppercase text-blue">
      {{ offerId ? 'Modifier l\'offre de stage' : 'Créer une offre de stage' }}
    </h3>

    <!-- Start of Post Job Form -->
    <form (ngSubmit)="submitOffer()">
      <div class="form-group">
        <label>Titre de l'offre</label>
        <input class="form-control" type="text" required [(ngModel)]="offre.titre" name="titre">
      </div>

      <div class="form-group">
        <label>Lieu</label>
        <input class="form-control" type="text" required [(ngModel)]="offre.location" name="location">
      </div>

      <div class="form-group">
        <label>Salaire</label>
        <input class="form-control" type="text" required [(ngModel)]="offre.salaire" name="salaire" placeholder="e.g. 1000DH">
      </div>

      <div class="form-group">
        <label>Description de l'offre</label>
        <textarea class="form-control" required [(ngModel)]="offre.description" name="description"></textarea>
      </div>

      <div class="form-group">
        <label>Photo (optionnelle)</label>
        <input class="form-control" type="file" accept=".jpg,.png,.gif" (change)="onFileChange($event)">
      </div>

      <div class="form-group">
        <label>Domaine</label>
        <select class="form-control" required [(ngModel)]="offre.domaine" name="domaine">
          <option value="" disabled selected>Choisir un domaine</option>
          <option value="INFORMATIQUE">Informatique</option>
          <option value="MARKETING">Marketing</option>
          <option value="FINANCE">Finance</option>
          <option value="RESSOURCES_HUMAINES">Ressources Humaines</option>
          <option value="COMMUNICATION">Communication</option>
          <option value="INGENIERIE">Ingénierie</option>
          <option value="DESIGN">Design</option>
          <option value="VENTE">Vente</option>
          <option value="LOGISTIQUE">Logistique</option>
        </select>
      </div>

      <div class="form-group">
        <label>Mots-clés (Keywords)</label>
        <input
          class="form-control"
          type="text"
          required
          [(ngModel)]="offre.keywords"
          name="keywords"
          placeholder="Séparez les mots-clés par des virgules, e.g., stage, informatique, développement">
        <small class="form-text text-muted">Veuillez séparer les mots-clés par des virgules.</small>
      </div>

      <button class="btn btn-blue btn-effect" type="submit">
        {{ offerId ? 'Mettre à jour l\'offre' : 'Publier l\'offre' }}
      </button>
    </form>
  <!-- Modal de confirmation après ajout ou modification -->
    <div *ngIf="showSuccessModal" class="modal-background">
      <div class="modal-content">
        <button class="btn-close" (click)="closeSuccessModal()">X</button>
        <h4>{{ successMessage }}</h4>
        <button class="btn2" (click)="goToOffersPage()">OK</button>
      </div>
    </div>
  </div>

</section>
